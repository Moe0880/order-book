function reconcileOrder(existingBook, incomingOrder) {
  let updatetedBook = [];

  for (let i = 0; i < existingBook.length; i++) {
    if (existingBook.length === 0) {
      updatetedBook = updatetedBook.push(incomingOrder);

      return updatetedBook;
    }
    if (existingBook[i].type === incomingOrder.type) {
      updatetedBook = existingBook.push(incomingOrder);
    }

    if (
      existingBook[i].type !== incomingOrder.type &&
      (existingBook[i].quantity !== incomingOrder.quantity ||
        existingBook[i].price !== incomingOrder.price)
    ) {
      updatetedBook = existingBook.push(incomingOrder);
    }
    if (
      existingBook[i].type !== incomingOrder.type &&
      existingBook[i].quantity === incomingOrder.quantity &&
      existingBook[i].price === incomingOrder.price
    ) {
      incomingOrder = existingBook[i];
      updatedBook = updatetedBook.shift(incomingOrder);
    }
    if (
      existingBook[i].price !== incomingOrder.price &&
      existingBook[i].quantity === incomingOrder.quantity &&
      existingBook[i].type === incomingOrder.type
    ) {
      updatetedBook = updatetedBook.shift(existingBook);
    }

    if (
      existingBook[i].type !== incomingOrder.type &&
      existingBook[i].price === incomingOrder.price
    ) {
      if (existingBook[i].quantity > incomingOrder.quantity) {
        incomingOrder.quantity =
          existingBook[i].quantity - incomingOrder.quantity;
        incomingOrder.type = existingBook[i].type;
        updatedBook = existingBook.push(incomingOrder);
      } else if (existingBook[i].quantity < incomingOrder.quantity) {
        incomingOrder.quantity =
          incomingOrder.quantity - existingBook[i].quantity;
        incomingOrder.type = existingBook[i].type;
        updatedBook = existingBook.push(existingBook[i]);
      }
    }
  }

  return updatetedBook;
}
